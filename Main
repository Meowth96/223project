package com.company;
import java.util.Scanner;
import java.util.Arrays;
import java.util.Collections;
public class Main {

    public static void main(String[] args) {
        Deck deck = new Deck();
        Card player1Card;//a Card played during gameplay by player 1
        Card player2Card;

        deck.printDeck();//print the deck prior to shuffling
        deck.shuffleDeck();
        System.out.println("After shuffling");
        deck.printDeck();// print the deck after shuffling

        Pile playerHand = new Pile();//the pile that player 1 will use
        Pile CPUHand = new Pile();//the pile that player 2 will use

        // split deck into two hands

        for (int i=0; i<26; i++){
            playerHand.addBottom(deck.drawDeck());
        }
        for (int j=0; j<26; j++){
            CPUHand.addBottom(deck.drawDeck());
        }


        // write your code here

        Boolean cont;
        cont=true; //at the end of a round we ask if the player wants to continue
        int playerDiscard=0, CPUDiscard=0;

        while (cont){
            for (int i=0; i < 26; i++) {

                //compare player and cpu cards
                //comparing the value field of the ith object in the array of cards, not sure how to call that...
                //one is larger than the other

                if (playerHand.playCard().getValue() > CPUHand.playCard().getValue()) {
                    //player wins this round
                    playerDiscard+=2;
                } else if (playerHand.playCard().getValue() < CPUHand.playCard().getValue()) {
                    //CPU wins this round
                    CPUDiscard+=2;
                }
                //cards are the same
                else {
                    //function call that I dont know how to do
                    if (i<5){
                        System.out.println("Not enough cards left to do war.");
                        CPUDiscard++;
                        playerDiscard++;
                    }
                    else {
                        War w = new War();
                        if (w.War(i, playerHand, CPUHand)==1){
                            playerDiscard+=10;
                        }
                        else if(w.War(i, playerHand, CPUHand)==2){
                            CPUDiscard+=10;
                        }
                        i+=4;
                        for (int j=0; j<4; j++){
                            playerHand.playCard();
                            CPUHand.playCard();
                        }
                    }

                }
            }

        System.out.println("Please press the continue button to play the next round or the exit button to quit.");
        //some button press triggering event to start the whole thing
        //if continue button press, continue==true
        //if exit button press, continue==false
        }

    }
}
